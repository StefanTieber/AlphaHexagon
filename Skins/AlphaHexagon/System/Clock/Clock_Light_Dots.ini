[Metadata]
Name=Clock_Dots
Author=Lycodo
Information=Displays Time in Hours and Minutes

[Variables]
Radius=(50 * #Scaling#)
RadiusHour=(6 * #Scaling#)
RadiusMinute=(4 * #Scaling#)

@Include="#@#variables.inc"
@Include2="#@#styles.inc"

[Rainmeter]
Update=1000
MiddleMouseUpAction=[!Refresh #CURRENTCONFIG#]
OnRefreshAction=[!Move [GridPositionX] [GridPositionY]][!Zpos -2]

[GridPositionX]
Measure=Calc
Formula=Round((#CURRENTCONFIGX# - #GridX#) / #GridW#) * #GridW# + #GridX#
[GridPositionY]
Measure=Calc
Formula=Round((#CURRENTCONFIGY# - #GridY#) / #GridH#) * #GridH# + #GridY#

[MeasureHour]
Measure=Time
Format=%H

[MeasureMinute]
Measure=Time
Format=%M

[MeasureSecond]
Measure=Time
Format=%S

[MeasureAngleHour]
Measure=Calc
Formula=((([MeasureSecond] / 60 + [MeasureMinute]) / 60 + [MeasureHour] % 12) / 12) * 2 * Pi
DynamicVariables=1

[MeasureAngleMinute]
Measure=Calc
Formula=(([MeasureSecond] / 60 + [MeasureMinute]) / 60) * 2 * Pi
DynamicVariables=1

[MeterHitbox]
Meter=Image
ImageName=#IconDir##HitboxLight#
W=#IconWidth#
ImageAlpha=#HitboxAlpha#
AntiAlias=1

[MeterCircleHour]
Meter=Roundline
X=(#IconWidth# / 2 + (#Radius# - #RadiusHour#) * sin([MeasureAngleHour]))
Y=(#IconHeight# / 2 - (#Radius# - #RadiusHour#) * cos([MeasureAngleHour]))
LineLength=#RadiusHour#
LineColor=#MiddleGray#
Solid=1
AntiAlias=1
DynamicVariables=1

[MeterCircleMinute]
Meter=Roundline
X=(#IconWidth# / 2 + (#Radius# - #RadiusMinute#) * sin([MeasureAngleMinute]))
Y=(#IconHeight# / 2 - (#Radius# - #RadiusMinute#) * cos([MeasureAngleMinute]))
LineLength=#RadiusMinute#
LineColor=#DarkGray#
Solid=1
AntiAlias=1
DynamicVariables=1

[MeterNumberHour]
Meter=String
MeasureName=MeasureHour
MeterStyle=StyleUiDarkFont
FontSize=(30 * #Scaling#)
X=(#IconWidth# / 2)
Y=(#IconHeight# / 2) - (13 * #Scaling#)
DynamicVariables=1

[MeterNumberMinute]
Meter=String
MeasureName=MeasureMinute
MeterStyle=StyleUiDarkFont
FontSize=(30 * #Scaling#)
X=(#IconWidth# / 2)
Y=(#IconHeight# / 2) + (22 * #Scaling#)
DynamicVariables=1
