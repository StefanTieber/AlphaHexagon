[Metadata]
Name=Counter
Author=Lycodo
Information=Hidden Button that counts up every time it is pressed, similar to a Tally Sheet (reset with Middle Mouse Button)

[Variables]
@Include="#@#variables.inc"
@Include2="#@#styles.inc"

CounterV=0

[Rainmeter]
Update=-1
MiddleMouseUpAction=[!Refresh #CURRENTCONFIG#]
OnRefreshAction=[!Move [GridPositionX] [GridPositionY]][!Zpos -2]

[GridPositionX]
Measure=Calc
Formula=Round((#CURRENTCONFIGX# - #GridX#) / #GridW#) * #GridW# + #GridX#
[GridPositionY]
Measure=Calc
Formula=Round((#CURRENTCONFIGY# - #GridY#) / #GridH#) * #GridH# + #GridY#

[MeasureAlpha]
Measure=Calc
Formula=#CounterV#
IfAboveValue=0
IfAboveAction=[!SetOption MeterHitbox ImageAlpha #HitboxAlpha#][!SetOption MeterNumber Hidden "0"]
DynamicVariables=1

[MeterHitbox]
Meter=Image
ImageName=#IconDir##HitboxDark#
W=#IconWith#
ImageAlpha=1
AntiAlias=1
LeftMouseUpAction=[!SetVariable CounterV "(#CounterV# + 1)"][!Update]
MouseActionCursor=0
DynamicVariables=1

[MeterNumber]
Meter=String
Text=#CounterV#
Hidden=1
MeterStyle=StyleUiLightFont
FontSize=36
X=(#IconWith# / 2)
Y=(#IconHight# / 2) + 5
DynamicVariables=1
