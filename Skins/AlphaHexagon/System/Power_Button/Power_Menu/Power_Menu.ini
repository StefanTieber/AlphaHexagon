[Metadata]
Name=Power_Menu
Author=Lycodo
Information=Power Menu for Lock, Shutdown and Restart (not meant to be loaded on its own)

[Variables]
NumberOptions=3

@Include="#@#variables.inc"
@Include2="#@#styles.inc"

[Rainmeter]
Update=16
OnRefreshAction=[!Hide]

[MeasureLock]
Measure=Plugin
Plugin=RunCommand
Parameter="rundll32.exe user32.dll, LockWorkStation"
State=Hide

[MeasureShutdown]
Measure=Plugin
Plugin=RunCommand
Parameter="shutdown.exe -s -t 02"
State=Hide

[MeasureRestart]
Measure=Plugin
Plugin=RunCommand
Parameter="shutdown.exe -r -t 02"
State=Hide

[MeterBorder]
Meter=Image
SolidColor=#MenuBorderColor#
W=202
H=(#NumberOptions#*22+10)

[MeterBackground]
Meter=Image
SolidColor=#MenuBackgroundColor#
X=1
Y=1
W=200
H=(#NumberOptions#*22+8)

[MeterHitboxLock]
Meter=Image
SolidColor=#MenuBackgroundColor#
X=3
Y=(0*22+5)
W=196
H=22
MouseOverAction=[!SetOption #CURRENTSECTION# SolidColor #MenuMouseOverColor#][!Update]
MouseLeaveAction=[!SetOption #CURRENTSECTION# SolidColor #MenuBackgroundColor#][!Update]
LeftMouseUpAction=[!CommandMeasure MeasureLock "Run"]
MouseActionCursor=0

[MeterLabelLock]
Meter=String
MeterStyle=StyleMenuFont
Text="Lock"
X=30r
Y=2r

[MeterHitboxShutdown]
Meter=Image
SolidColor=#MenuBackgroundColor#
X=3
Y=(1*22+5)
W=196
H=22
MouseOverAction=[!SetOption #CURRENTSECTION# SolidColor #MenuMouseOverColor#][!Update]
MouseLeaveAction=[!SetOption #CURRENTSECTION# SolidColor #MenuBackgroundColor#][!Update]
LeftMouseUpAction=[!CommandMeasure MeasureShutdown "Run"]
MouseActionCursor=0

[MeterLabelShutdown]
Meter=String
MeterStyle=StyleMenuFont
Text="Shutdown"
X=30r
Y=2r

[MeterHitboxRestart]
Meter=Image
SolidColor=#MenuBackgroundColor#
X=3
Y=(2*22+5)
W=196
H=22
MouseOverAction=[!SetOption #CURRENTSECTION# SolidColor #MenuMouseOverColor#][!Update]
MouseLeaveAction=[!SetOption #CURRENTSECTION# SolidColor #MenuBackgroundColor#][!Update]
LeftMouseUpAction=[!CommandMeasure MeasureRestart "Run"]
MouseActionCursor=0

[MeterLabelRestart]
Meter=String
MeterStyle=StyleMenuFont
Text="Restart"
X=30r
Y=2r
